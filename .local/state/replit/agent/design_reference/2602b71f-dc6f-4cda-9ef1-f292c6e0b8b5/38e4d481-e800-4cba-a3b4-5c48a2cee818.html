<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Receiptify - Digital Receipt Wallet</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#10B981',
                        secondary: '#059669',
                        accent: '#F59E0B',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif']
                    }
                }
            }
        };
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .receipt-card {
            transition: all 0.2s ease;
        }
        .receipt-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        .eco-badge {
            background: linear-gradient(135deg, #10B981, #059669);
        }
        .scan-animation {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- @COMPONENT: AppContainer -->
    <div class="max-w-md mx-auto bg-white min-h-screen relative">
        
        <!-- Onboarding Screen (Hidden by default - shown on first load) -->
        <!-- @COMPONENT: OnboardingCarousel -->
        <div id="onboarding" class="fixed inset-0 bg-white z-50 hidden">
            <div class="h-full flex flex-col">
                <!-- Onboarding Slide 1 -->
                <div class="flex-1 flex flex-col items-center justify-center p-8 text-center">
                    <!-- Modern office building with digital screens and greenery -->
                    <img src="https://images.unsplash.com/photo-1497366216548-37526070297c?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=400&h=300" alt="Digital transformation" class="w-64 h-48 object-cover rounded-2xl mb-8">
                    <h1 class="text-3xl font-bold text-gray-900 mb-4">One Scan.<br>Zero Paper.</h1>
                    <p class="text-lg text-gray-600 mb-8">Transform your receipts into a digital, searchable wallet. Save trees, save time, save money.</p>
                    <div class="flex space-x-2 mb-8">
                        <div class="w-8 h-2 bg-primary rounded-full"></div>
                        <div class="w-2 h-2 bg-gray-300 rounded-full"></div>
                        <div class="w-2 h-2 bg-gray-300 rounded-full"></div>
                    </div>
                </div>
                <div class="p-6">
                    <button data-event="click:nextSlide" class="w-full bg-primary text-white py-4 rounded-xl font-semibold text-lg">Get Started</button>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: OnboardingCarousel -->

        <!-- Authentication Screen -->
        <!-- @COMPONENT: AuthScreen -->
        <div id="auth-screen" class="fixed inset-0 bg-white z-40 hidden">
            <div class="h-full flex flex-col">
                <div class="p-6 pt-16">
                    <button data-event="click:goBack" class="mb-8">
                        <i class="fas fa-arrow-left text-xl text-gray-600"></i>
                    </button>
                    <h2 class="text-2xl font-bold text-gray-900 mb-2">Welcome to Receiptify</h2>
                    <p class="text-gray-600 mb-8">Sign up to start digitizing your receipts</p>
                    
                    <!-- Phone Input -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
                        <div class="flex">
                            <select class="border border-gray-300 rounded-l-xl px-3 py-4 bg-white text-sm">
                                <option>ðŸ‡¬ðŸ‡§ +44</option>
                            </select>
                            <input type="tel" placeholder="7700 900000" class="flex-1 border border-l-0 border-gray-300 rounded-r-xl px-4 py-4 text-lg">
                        </div>
                    </div>

                    <button data-event="click:sendOTP" class="w-full bg-primary text-white py-4 rounded-xl font-semibold text-lg mb-6">Send Verification Code</button>
                    
                    <div class="flex items-center mb-6">
                        <hr class="flex-1 border-gray-300">
                        <span class="mx-4 text-gray-500 text-sm">or continue with</span>
                        <hr class="flex-1 border-gray-300">
                    </div>
                    
                    <div class="space-y-3">
                        <button data-event="click:socialLogin" class="w-full flex items-center justify-center space-x-3 border border-gray-300 py-4 rounded-xl">
                            <i class="fab fa-google text-xl"></i>
                            <span class="font-medium">Continue with Google</span>
                        </button>
                        <button data-event="click:socialLogin" class="w-full flex items-center justify-center space-x-3 border border-gray-300 py-4 rounded-xl">
                            <i class="fab fa-facebook text-xl text-blue-600"></i>
                            <span class="font-medium">Continue with Facebook</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: AuthScreen -->

        <!-- Main App Header -->
        <!-- @COMPONENT: AppHeader -->
        <header class="bg-white border-b border-gray-200 px-6 py-4 sticky top-0 z-30">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center">
                        <i class="fas fa-receipt text-white text-sm"></i>
                    </div>
                    <h1 class="text-xl font-bold text-gray-900">Receiptify</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <button data-event="click:search" class="p-2">
                        <i class="fas fa-search text-gray-600"></i>
                    </button>
                    <button data-event="click:profile" class="w-8 h-8 bg-gray-200 rounded-full overflow-hidden">
                        <!-- User profile photo -->
                        <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=32&h=32" alt="Profile" class="w-full h-full object-cover">
                    </button>
                </div>
            </div>
        </header>
        <!-- @END_COMPONENT: AppHeader -->

        <!-- Eco Impact Banner -->
        <!-- @COMPONENT: EcoImpactBanner -->
        <div class="eco-badge mx-6 mt-4 p-4 rounded-2xl text-white">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-sm opacity-90">This month you saved</p>
                    <p class="text-lg font-bold">47 sheets of paper</p>
                    <p class="text-xs opacity-75">2.3kg COâ‚‚ â€¢ 0.12 trees</p>
                </div>
                <div class="text-right">
                    <div class="w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center">
                        <i class="fas fa-leaf text-xl"></i>
                    </div>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: EcoImpactBanner -->

        <!-- Quick Actions -->
        <!-- @COMPONENT: QuickActions -->
        <div class="px-6 py-4">
            <div class="grid grid-cols-2 gap-4">
                <button data-event="click:scanReceipt" class="bg-white border-2 border-dashed border-primary p-6 rounded-2xl text-center scan-animation">
                    <i class="fas fa-camera text-2xl text-primary mb-2"></i>
                    <p class="font-semibold text-gray-900">Scan Receipt</p>
                    <p class="text-xs text-gray-600">Camera or upload</p>
                </button>
                <button data-event="click:linkCard" class="bg-white border border-gray-200 p-6 rounded-2xl text-center">
                    <i class="fas fa-credit-card text-2xl text-gray-600 mb-2"></i>
                    <p class="font-semibold text-gray-900">Link Card</p>
                    <p class="text-xs text-gray-600">Auto-sync receipts</p>
                </button>
            </div>
        </div>
        <!-- @END_COMPONENT: QuickActions -->

        <!-- Filters -->
        <!-- @COMPONENT: FilterTabs -->
        <div class="px-6 py-2">
            <div class="flex space-x-2 overflow-x-auto">
                <button data-filter="all" class="bg-primary text-white px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap">All</button>
                <button data-filter="groceries" class="bg-gray-100 text-gray-700 px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap">Groceries</button>
                <button data-filter="fuel" class="bg-gray-100 text-gray-700 px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap">Fuel</button>
                <button data-filter="dining" class="bg-gray-100 text-gray-700 px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap">Dining</button>
                <button data-filter="shopping" class="bg-gray-100 text-gray-700 px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap">Shopping</button>
            </div>
        </div>
        <!-- @END_COMPONENT: FilterTabs -->

        <!-- Receipt Feed -->
        <!-- @COMPONENT: ReceiptFeed -->
        <div class="px-6 pb-24">
            <!-- @MAP: receipts.map(receipt => ( -->
            
            <!-- Tesco Receipt -->
            <div class="receipt-card bg-white rounded-2xl p-4 mb-4 shadow-sm border border-gray-100" data-receipt-id="1">
                <div class="flex items-start justify-between mb-3">
                    <div class="flex items-center space-x-3">
                        <div class="w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center">
                            <span class="text-red-600 font-bold text-lg">T</span>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-900" data-bind="receipt.merchant">Tesco Extra</h3>
                            <p class="text-sm text-gray-600" data-bind="receipt.location">High Street, London</p>
                            <p class="text-xs text-gray-500" data-bind="receipt.date">Today, 2:34 PM</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="text-lg font-bold text-gray-900" data-bind="receipt.total">Â£24.67</p>
                        <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                            <i class="fas fa-leaf text-xs mr-1"></i>
                            Eco-friendly
                        </span>
                    </div>
                </div>
                
                <div class="flex items-center justify-between text-sm text-gray-600">
                    <span data-bind="receipt.itemCount">12 items</span>
                    <div class="flex items-center space-x-4">
                        <span class="flex items-center">
                            <i class="fas fa-credit-card text-xs mr-1"></i>
                            <span data-bind="receipt.paymentMethod">Contactless</span>
                        </span>
                        <button data-event="click:viewReceipt" class="text-primary">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Quick preview of items -->
                <div class="mt-3 pt-3 border-t border-gray-100">
                    <div class="text-xs text-gray-600 line-clamp-2">
                        Milk, Bread, Bananas, Chicken Breast, Pasta, Tomatoes...
                    </div>
                </div>
            </div>

            <!-- Shell Fuel Receipt -->
            <div class="receipt-card bg-white rounded-2xl p-4 mb-4 shadow-sm border border-gray-100" data-receipt-id="2">
                <div class="flex items-start justify-between mb-3">
                    <div class="flex items-center space-x-3">
                        <div class="w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center">
                            <span class="text-yellow-600 font-bold text-lg">S</span>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-900">Shell Station</h3>
                            <p class="text-sm text-gray-600">A40 Services, Oxford</p>
                            <p class="text-xs text-gray-500">Yesterday, 8:15 AM</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="text-lg font-bold text-gray-900">Â£45.20</p>
                        <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                            <i class="fas fa-gas-pump text-xs mr-1"></i>
                            Fuel
                        </span>
                    </div>
                </div>
                
                <div class="flex items-center justify-between text-sm text-gray-600">
                    <span>Premium Unleaded</span>
                    <div class="flex items-center space-x-4">
                        <span class="flex items-center">
                            <i class="fas fa-star text-xs mr-1 text-yellow-500"></i>
                            <span>+45 GO+ points</span>
                        </span>
                        <button data-event="click:viewReceipt" class="text-primary">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Waitrose Receipt -->
            <div class="receipt-card bg-white rounded-2xl p-4 mb-4 shadow-sm border border-gray-100" data-receipt-id="3">
                <div class="flex items-start justify-between mb-3">
                    <div class="flex items-center space-x-3">
                        <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center">
                            <span class="text-green-600 font-bold text-lg">W</span>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-900">Waitrose</h3>
                            <p class="text-sm text-gray-600">Canary Wharf, London</p>
                            <p class="text-xs text-gray-500">2 days ago, 6:45 PM</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="text-lg font-bold text-gray-900">Â£18.95</p>
                        <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800">
                            <i class="fas fa-utensils text-xs mr-1"></i>
                            Dining
                        </span>
                    </div>
                </div>
                
                <div class="flex items-center justify-between text-sm text-gray-600">
                    <span>7 items</span>
                    <div class="flex items-center space-x-4">
                        <span class="flex items-center">
                            <i class="fas fa-percent text-xs mr-1"></i>
                            <span>myWaitrose savings</span>
                        </span>
                        <button data-event="click:viewReceipt" class="text-primary">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Argos Receipt -->
            <div class="receipt-card bg-white rounded-2xl p-4 mb-4 shadow-sm border border-gray-100" data-receipt-id="4">
                <div class="flex items-start justify-between mb-3">
                    <div class="flex items-center space-x-3">
                        <div class="w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center">
                            <span class="text-red-600 font-bold text-lg">A</span>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-900">Argos</h3>
                            <p class="text-sm text-gray-600">Westfield Shopping Centre</p>
                            <p class="text-xs text-gray-500">3 days ago, 3:20 PM</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="text-lg font-bold text-gray-900">Â£129.99</p>
                        <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800">
                            <i class="fas fa-box text-xs mr-1"></i>
                            Electronics
                        </span>
                    </div>
                </div>
                
                <div class="flex items-center justify-between text-sm text-gray-600">
                    <span>Bluetooth Headphones</span>
                    <div class="flex items-center space-x-4">
                        <span class="flex items-center">
                            <i class="fas fa-shield-alt text-xs mr-1"></i>
                            <span>2yr warranty</span>
                        </span>
                        <button data-event="click:viewReceipt" class="text-primary">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- @END_MAP )) -->
        </div>
        <!-- @END_COMPONENT: ReceiptFeed -->

        <!-- Receipt Detail Modal -->
        <!-- @COMPONENT: ReceiptDetailModal -->
        <div id="receipt-detail" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
            <div class="bg-white h-full overflow-y-auto">
                <!-- Modal Header -->
                <div class="sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between">
                    <button data-event="click:closeModal" class="p-2">
                        <i class="fas fa-times text-xl text-gray-600"></i>
                    </button>
                    <h2 class="font-semibold text-gray-900">Receipt Details</h2>
                    <button data-event="click:shareReceipt" class="p-2">
                        <i class="fas fa-share text-xl text-primary"></i>
                    </button>
                </div>

                <!-- Receipt Image -->
                <div class="px-6 py-4">
                    <!-- Scanned receipt image showing grocery items and prices -->
                    <img src="https://images.unsplash.com/photo-1586953208448-b95a79798f07?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=400&h=600" alt="Tesco receipt scan" class="w-full rounded-xl shadow-lg">
                </div>

                <!-- Receipt Info -->
                <div class="px-6">
                    <div class="bg-gray-50 rounded-2xl p-4 mb-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center">
                                    <span class="text-red-600 font-bold text-lg">T</span>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-gray-900">Tesco Extra</h3>
                                    <p class="text-sm text-gray-600">High Street, London SW1A 1AA</p>
                                </div>
                            </div>
                            <div class="text-right">
                                <p class="text-2xl font-bold text-gray-900">Â£24.67</p>
                                <p class="text-sm text-gray-600">Today, 2:34 PM</p>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-3 gap-4 pt-4 border-t border-gray-200">
                            <div class="text-center">
                                <p class="text-lg font-semibold text-gray-900">12</p>
                                <p class="text-xs text-gray-600">Items</p>
                            </div>
                            <div class="text-center">
                                <p class="text-lg font-semibold text-green-600">Â£2.30</p>
                                <p class="text-xs text-gray-600">Savings</p>
                            </div>
                            <div class="text-center">
                                <p class="text-lg font-semibold text-blue-600">150</p>
                                <p class="text-xs text-gray-600">Clubcard pts</p>
                            </div>
                        </div>
                    </div>

                    <!-- Line Items -->
                    <div class="mb-6">
                        <h4 class="font-semibold text-gray-900 mb-4">Items</h4>
                        <div class="space-y-3">
                            <!-- @MAP: lineItems.map(item => ( -->
                            <div class="flex items-center justify-between py-2">
                                <div class="flex-1">
                                    <p class="font-medium text-gray-900" data-bind="item.name">Tesco Milk 2L</p>
                                    <p class="text-sm text-gray-600" data-bind="item.category">Dairy & Eggs</p>
                                </div>
                                <div class="text-right">
                                    <p class="font-semibold text-gray-900" data-bind="item.price">Â£1.25</p>
                                    <button data-event="click:addComment" class="text-xs text-primary">Add note</button>
                                </div>
                            </div>
                            <div class="flex items-center justify-between py-2">
                                <div class="flex-1">
                                    <p class="font-medium text-gray-900">Warburtons Bread</p>
                                    <p class="text-sm text-gray-600">Bakery</p>
                                </div>
                                <div class="text-right">
                                    <p class="font-semibold text-gray-900">Â£1.20</p>
                                    <button data-event="click:addComment" class="text-xs text-primary">Add note</button>
                                </div>
                            </div>
                            <div class="flex items-center justify-between py-2">
                                <div class="flex-1">
                                    <p class="font-medium text-gray-900">Bananas 1kg</p>
                                    <p class="text-sm text-gray-600">Fresh Produce</p>
                                </div>
                                <div class="text-right">
                                    <p class="font-semibold text-gray-900">Â£1.10</p>
                                    <button data-event="click:addComment" class="text-xs text-primary">Add note</button>
                                </div>
                            </div>
                            <!-- @END_MAP )) -->
                        </div>
                    </div>

                    <!-- Actions -->
                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <button data-event="click:splitReceipt" class="bg-primary text-white py-3 rounded-xl font-semibold flex items-center justify-center space-x-2">
                            <i class="fas fa-users"></i>
                            <span>Split Bill</span>
                        </button>
                        <button data-event="click:exportPDF" class="border border-gray-300 text-gray-700 py-3 rounded-xl font-semibold flex items-center justify-center space-x-2">
                            <i class="fas fa-download"></i>
                            <span>Export PDF</span>
                        </button>
                    </div>

                    <!-- Eco Impact -->
                    <div class="eco-badge p-4 rounded-2xl text-white mb-6">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center">
                                <i class="fas fa-leaf"></i>
                            </div>
                            <div>
                                <p class="font-semibold">Environmental Impact</p>
                                <p class="text-sm opacity-90">This digital receipt saved 1 sheet of paper</p>
                                <p class="text-xs opacity-75">â‰ˆ 0.05kg COâ‚‚ reduction</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: ReceiptDetailModal -->

        <!-- Search Modal -->
        <!-- @COMPONENT: SearchModal -->
        <div id="search-modal" class="fixed inset-0 bg-white z-50 hidden">
            <div class="h-full flex flex-col">
                <!-- Search Header -->
                <div class="px-6 py-4 border-b border-gray-200">
                    <div class="flex items-center space-x-4">
                        <button data-event="click:closeSearch" class="p-2">
                            <i class="fas fa-arrow-left text-xl text-gray-600"></i>
                        </button>
                        <div class="flex-1">
                            <input type="text" placeholder="Search receipts..." class="w-full bg-gray-100 rounded-xl px-4 py-3 text-lg" data-implementation="Real-time search with debouncing">
                        </div>
                    </div>
                </div>

                <!-- Search Filters -->
                <div class="px-6 py-4 border-b border-gray-200">
                    <div class="grid grid-cols-2 gap-4">
                        <button class="border border-gray-300 rounded-xl p-3 text-left">
                            <i class="fas fa-calendar text-primary mb-1"></i>
                            <p class="text-sm font-medium">Date Range</p>
                            <p class="text-xs text-gray-600">Last 30 days</p>
                        </button>
                        <button class="border border-gray-300 rounded-xl p-3 text-left">
                            <i class="fas fa-pound-sign text-primary mb-1"></i>
                            <p class="text-sm font-medium">Amount</p>
                            <p class="text-xs text-gray-600">Â£0 - Â£1000</p>
                        </button>
                    </div>
                </div>

                <!-- Recent Searches -->
                <div class="flex-1 px-6 py-4">
                    <h3 class="font-semibold text-gray-900 mb-4">Recent Searches</h3>
                    <div class="space-y-3">
                        <button class="flex items-center space-x-3 w-full text-left">
                            <i class="fas fa-clock text-gray-400"></i>
                            <span class="text-gray-700">Tesco</span>
                        </button>
                        <button class="flex items-center space-x-3 w-full text-left">
                            <i class="fas fa-clock text-gray-400"></i>
                            <span class="text-gray-700">fuel receipts</span>
                        </button>
                        <button class="flex items-center space-x-3 w-full text-left">
                            <i class="fas fa-clock text-gray-400"></i>
                            <span class="text-gray-700">Â£20-50</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: SearchModal -->

        <!-- Camera Capture Modal -->
        <!-- @COMPONENT: CameraCaptureModal -->
        <div id="camera-modal" class="fixed inset-0 bg-black z-50 hidden">
            <div class="h-full flex flex-col">
                <!-- Camera Header -->
                <div class="flex items-center justify-between p-6 text-white">
                    <button data-event="click:closeCameraModal" class="p-2">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                    <h2 class="font-semibold">Scan Receipt</h2>
                    <button data-event="click:galleryUpload" class="p-2">
                        <i class="fas fa-image text-xl"></i>
                    </button>
                </div>

                <!-- Camera View -->
                <div class="flex-1 relative bg-gray-900 flex items-center justify-center">
                    <div class="w-80 h-96 border-2 border-white border-dashed rounded-2xl flex items-center justify-center">
                        <div class="text-center text-white">
                            <i class="fas fa-camera text-4xl mb-4"></i>
                            <p class="text-lg font-semibold">Position receipt in frame</p>
                            <p class="text-sm opacity-75">Tap to capture or upload from gallery</p>
                        </div>
                    </div>
                </div>

                <!-- Camera Controls -->
                <div class="p-6 flex items-center justify-center space-x-8">
                    <button data-event="click:toggleFlash" class="w-12 h-12 border border-gray-400 rounded-full flex items-center justify-center text-white">
                        <i class="fas fa-bolt"></i>
                    </button>
                    <button data-event="click:capturePhoto" class="w-16 h-16 bg-white rounded-full flex items-center justify-center">
                        <div class="w-12 h-12 bg-gray-300 rounded-full"></div>
                    </button>
                    <button data-event="click:switchCamera" class="w-12 h-12 border border-gray-400 rounded-full flex items-center justify-center text-white">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: CameraCaptureModal -->

        <!-- Bottom Navigation -->
        <!-- @COMPONENT: BottomNavigation -->
        <nav class="fixed bottom-0 left-1/2 transform -translate-x-1/2 w-full max-w-md bg-white border-t border-gray-200">
            <div class="flex items-center justify-around py-2">
                <button data-route="home" class="flex flex-col items-center p-3 text-primary">
                    <i class="fas fa-home text-xl mb-1"></i>
                    <span class="text-xs font-medium">Home</span>
                </button>
                <button data-route="search" class="flex flex-col items-center p-3 text-gray-600">
                    <i class="fas fa-search text-xl mb-1"></i>
                    <span class="text-xs font-medium">Search</span>
                </button>
                <button data-route="scan" class="flex flex-col items-center p-3 text-gray-600">
                    <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center mb-1">
                        <i class="fas fa-plus text-white"></i>
                    </div>
                    <span class="text-xs font-medium">Scan</span>
                </button>
                <button data-route="analytics" class="flex flex-col items-center p-3 text-gray-600">
                    <i class="fas fa-chart-line text-xl mb-1"></i>
                    <span class="text-xs font-medium">Analytics</span>
                </button>
                <button data-route="profile" class="flex flex-col items-center p-3 text-gray-600">
                    <i class="fas fa-user text-xl mb-1"></i>
                    <span class="text-xs font-medium">Profile</span>
                </button>
            </div>
        </nav>
        <!-- @END_COMPONENT: BottomNavigation -->

        <!-- Analytics Screen (Hidden by default) -->
        <!-- @COMPONENT: AnalyticsScreen -->
        <div id="analytics-screen" class="fixed inset-0 bg-gray-50 z-40 hidden">
            <div class="h-full overflow-y-auto pb-24">
                <!-- Analytics Header -->
                <div class="bg-white px-6 py-8">
                    <h1 class="text-2xl font-bold text-gray-900 mb-2">Your Insights</h1>
                    <p class="text-gray-600">Track your spending and environmental impact</p>
                </div>

                <!-- Monthly Summary -->
                <div class="px-6 py-4">
                    <div class="bg-white rounded-2xl p-6 mb-6">
                        <h2 class="font-semibold text-gray-900 mb-4">This Month</h2>
                        <div class="grid grid-cols-2 gap-6">
                            <div>
                                <p class="text-2xl font-bold text-gray-900">Â£347.82</p>
                                <p class="text-sm text-gray-600">Total Spent</p>
                                <p class="text-xs text-green-600 mt-1">â†“ 12% vs last month</p>
                            </div>
                            <div>
                                <p class="text-2xl font-bold text-primary">67</p>
                                <p class="text-sm text-gray-600">Receipts</p>
                                <p class="text-xs text-blue-600 mt-1">â†‘ 8% vs last month</p>
                            </div>
                        </div>
                    </div>

                    <!-- Eco Impact Card -->
                    <div class="eco-badge p-6 rounded-2xl text-white mb-6">
                        <h3 class="font-semibold mb-4">Environmental Impact</h3>
                        <div class="grid grid-cols-3 gap-4">
                            <div class="text-center">
                                <p class="text-xl font-bold">47</p>
                                <p class="text-xs opacity-75">Papers saved</p>
                            </div>
                            <div class="text-center">
                                <p class="text-xl font-bold">2.3kg</p>
                                <p class="text-xs opacity-75">COâ‚‚ reduced</p>
                            </div>
                            <div class="text-center">
                                <p class="text-xl font-bold">0.12</p>
                                <p class="text-xs opacity-75">Trees saved</p>
                            </div>
                        </div>
                    </div>

                    <!-- Category Breakdown -->
                    <div class="bg-white rounded-2xl p-6">
                        <h3 class="font-semibold text-gray-900 mb-4">Spending by Category</h3>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                                    <span class="text-gray-700">Groceries</span>
                                </div>
                                <div class="text-right">
                                    <p class="font-semibold text-gray-900">Â£156.32</p>
                                    <p class="text-xs text-gray-600">45%</p>
                                </div>
                            </div>
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
                                    <span class="text-gray-700">Fuel</span>
                                </div>
                                <div class="text-right">
                                    <p class="font-semibold text-gray-900">Â£89.50</p>
                                    <p class="text-xs text-gray-600">26%</p>
                                </div>
                            </div>
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <div class="w-3 h-3 bg-blue-500 rounded-full"></div>
                                    <span class="text-gray-700">Dining</span>
                                </div>
                                <div class="text-right">
                                    <p class="font-semibold text-gray-900">Â£67.20</p>
                                    <p class="text-xs text-gray-600">19%</p>
                                </div>
                            </div>
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <div class="w-3 h-3 bg-purple-500 rounded-full"></div>
                                    <span class="text-gray-700">Shopping</span>
                                </div>
                                <div class="text-right">
                                    <p class="font-semibold text-gray-900">Â£34.80</p>
                                    <p class="text-xs text-gray-600">10%</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: AnalyticsScreen -->

    </div>
    <!-- @END_COMPONENT: AppContainer -->

    <script>
        // TODO: Implement business logic, API calls, and state management
        
        (function() {
            // Basic UI interactions without business logic
            
            // Modal controls
            const receiptCards = document.querySelectorAll('.receipt-card');
            const receiptDetailModal = document.getElementById('receipt-detail');
            const searchModal = document.getElementById('search-modal');
            const cameraModal = document.getElementById('camera-modal');
            const analyticsScreen = document.getElementById('analytics-screen');
            
            // Receipt card clicks
            receiptCards.forEach(card => {
                card.addEventListener('click', function() {
                    receiptDetailModal.classList.remove('hidden');
                });
            });
            
            // Close modals
            document.addEventListener('click', function(e) {
                if (e.target.closest('[data-event="click:closeModal"]')) {
                    receiptDetailModal.classList.add('hidden');
                }
                if (e.target.closest('[data-event="click:closeSearch"]')) {
                    searchModal.classList.add('hidden');
                }
                if (e.target.closest('[data-event="click:closeCameraModal"]')) {
                    cameraModal.classList.add('hidden');
                }
            });
            
            // Search button
            document.querySelector('[data-event="click:search"]').addEventListener('click', function() {
                searchModal.classList.remove('hidden');
            });
            
            // Scan button
            document.querySelector('[data-event="click:scanReceipt"]').addEventListener('click', function() {
                cameraModal.classList.remove('hidden');
            });
            
            // Bottom navigation
            const navButtons = document.querySelectorAll('[data-route]');
            navButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const route = this.getAttribute('data-route');
                    
                    // Remove active state from all buttons
                    navButtons.forEach(btn => {
                        btn.classList.remove('text-primary');
                        btn.classList.add('text-gray-600');
                    });
                    
                    // Add active state to clicked button
                    this.classList.remove('text-gray-600');
                    this.classList.add('text-primary');
                    
                    // Show/hide screens
                    if (route === 'analytics') {
                        analyticsScreen.classList.remove('hidden');
                    } else {
                        analyticsScreen.classList.add('hidden');
                    }
                });
            });
            
            // Filter buttons
            const filterButtons = document.querySelectorAll('[data-filter]');
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    filterButtons.forEach(btn => {
                        btn.classList.remove('bg-primary', 'text-white');
                        btn.classList.add('bg-gray-100', 'text-gray-700');
                    });
                    
                    this.classList.remove('bg-gray-100', 'text-gray-700');
                    this.classList.add('bg-primary', 'text-white');
                });
            });
            
        })();
    </script>
</body>
</html>